

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: device/browser/window.js | waker-utils</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
        
            <link type="text/css" rel="stylesheet" href="custom.css">
        
    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="">
        
            <img src="img/toast-ui.png" width="100%" height="100%">
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">waker-utils</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-data.html">data</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data.html#.isEmpty">isEmpty</a></li></ul></div></li><li><a href="module-data_storage.html">data/storage</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/storage_sub"></div></li><li><a href="module-data_storage_cookie.html">data/storage/cookie</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/storage/cookie_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_storage_cookie.html#.getCookie">getCookie</a></li></ul></div></li><li><a href="module-data_type.html">data/type</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/type_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_type.html#.getType">getType</a></li></ul></div></li><li><a href="module-data_type_array.html">data/type/array</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/type/array_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_type_array.html#.findNodeByConditions">findNodeByConditions</a></li><li><a href="module-data_type_array.html#.mapToArray">mapToArray</a></li><li><a href="module-data_type_array.html#~flatArray">flatArray</a></li><li><a href="module-data_type_array.html#~flatArrayToKey">flatArrayToKey</a></li><li><a href="module-data_type_array.html#~flatArrayToOption">flatArrayToOption</a></li><li><a href="module-data_type_array.html#~shuffleArray">shuffleArray</a></li></ul></div></li><li><a href="module-data_type_date.html">data/type/date</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/type/date_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_type_date.html#.timeIntervalFormat">timeIntervalFormat</a></li></ul></div></li><li><a href="module-data_type_file.html">data/type/file</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/type/file_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_type_file.html#.blobToDataURL">blobToDataURL</a></li><li><a href="module-data_type_file.html#.validateImageSize">validateImageSize</a></li></ul></div></li><li><a href="module-data_type_number.html">data/type/number</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/type/number_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_type_number.html#.amountFormat">amountFormat</a></li><li><a href="module-data_type_number.html#.changeMoneyToChinese">changeMoneyToChinese</a></li><li><a href="module-data_type_number.html#.fixPercentage">fixPercentage</a></li><li><a href="module-data_type_number.html#.fomartBankCardCode">fomartBankCardCode</a></li><li><a href="module-data_type_number.html#.intToChinese">intToChinese</a></li><li><a href="module-data_type_number.html#.keepDecimalPlaces">keepDecimalPlaces</a></li><li><a href="module-data_type_number.html#.numberFormat">numberFormat</a></li></ul></div></li><li><a href="module-data_type_object.html">data/type/object</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/type/object_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_type_object.html#.emptyDefault">emptyDefault</a></li><li><a href="module-data_type_object.html#.nonEmptyAssign">nonEmptyAssign</a></li><li><a href="module-data_type_object.html#.readPropOnPath">readPropOnPath</a></li></ul></div></li><li><a href="module-data_type_string.html">data/type/string</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:data/type/string_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-data_type_string.html#.fistLetterUpper">fistLetterUpper</a></li><li><a href="module-data_type_string.html#.getCamelCase">getCamelCase</a></li><li><a href="module-data_type_string.html#.getKebabCase">getKebabCase</a></li><li><a href="module-data_type_string.html#.hideString">hideString</a></li><li><a href="module-data_type_string.html#.toCDB">toCDB</a></li><li><a href="module-data_type_string.html#.toDBC">toDBC</a></li></ul></div></li><li><a href="module-device.html">device</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:device_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-device.html#.getBroswerInfo">getBroswerInfo</a></li><li><a href="module-device.html#.getBrowserType">getBrowserType</a></li><li><a href="module-device.html#.getDPI">getDPI</a></li><li><a href="module-device.html#.getOSType">getOSType</a></li><li><a href="module-device.html#.isAppleMobileDevice">isAppleMobileDevice</a></li><li><a href="module-device.html#.isIE">isIE</a></li><li><a href="module-device.html#.isMobile">isMobile</a></li><li><a href="module-device.html#~getA4PixelSize">getA4PixelSize</a></li></ul></div></li><li><a href="module-device_browser.html">device/browser</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:device/browser_sub"></div></li><li><a href="module-device_browser_url.html">device/browser/url</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:device/browser/url_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-device_browser_url.html#.getQuery">getQuery</a></li><li><a href="module-device_browser_url.html#.ob2Params">ob2Params</a></li><li><a href="module-device_browser_url.html#.removeURLParameters">removeURLParameters</a></li><li><a href="module-device_browser_url.html#.replaceQuery">replaceQuery</a></li><li><a href="module-device_browser_url.html#.resolveURLParameters">resolveURLParameters</a></li></ul></div></li><li><a href="module-device_browser_window.html">device/browser/window</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:device/browser/window_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-device_browser_window.html#.exitFullscreen">exitFullscreen</a></li><li><a href="module-device_browser_window.html#.getClientHeight">getClientHeight</a></li><li><a href="module-device_browser_window.html#.getExplorerInfo">getExplorerInfo</a></li><li><a href="module-device_browser_window.html#.getPageViewWidth">getPageViewWidth</a></li><li><a href="module-device_browser_window.html#.handleScrollHeader">handleScrollHeader</a></li><li><a href="module-device_browser_window.html#.newWindowDownload">newWindowDownload</a></li><li><a href="module-device_browser_window.html#.scrollToBottom">scrollToBottom</a></li><li><a href="module-device_browser_window.html#.scrollToTop">scrollToTop</a></li><li><a href="module-device_browser_window.html#.smoothScroll">smoothScroll</a></li><li><a href="module-device_browser_window.html#.toFullScreen">toFullScreen</a></li></ul></div></li><li><a href="module-position.html">position</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:position_sub"></div></li><li><a href="module-position_lonLat.html">position/lonLat</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:position/lonLat_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-position_lonLat.html#.convertLonLatToGCJ">convertLonLatToGCJ</a></li><li><a href="module-position_lonLat.html#.transformLatx">transformLatx</a></li><li><a href="module-position_lonLat.html#.transformLon">transformLon</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="WangStorageProxy.html">WangStorageProxy</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="WangStorageProxy_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Global</h3><ul><li><a href="global.html#superAwait">superAwait</a></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * 浏览器窗口、标签页操作
 * @module device/browser/window
 */

/**
 * 滚动到页面顶部
 * 该函数会平滑地将页面滚动到顶部
 */
export function scrollToTop() {
  const height = document.documentElement.scrollTop || document.body.scrollTop;
  if (height > 0) {
    window.requestAnimationFrame(scrollToTop);
    window.scrollTo(0, height - height / 8);
  }
}

/**
 * 滚动到页面底部
 * 该函数会将页面滚动到最底部
 */
export function scrollToBottom() {
  window.scrollTo(0, document.documentElement.clientHeight);
}

/**
 * 平滑滚动到指定元素
 * @param {string} element - 要滚动到的元素的选择器
 * 该函数会平滑地将页面滚动到指定元素的位置
 */
export function smoothScroll(element) {
  document.querySelector(element).scrollIntoView({
    behavior: 'smooth'
  });
};

/**
 * 获取客户端高度
 * @returns {number} - 客户端的高度
 * 该函数会返回当前文档的客户端高度
 */
export function getClientHeight() {
  let clientHeight = 0;
  if (document.body.clientHeight &amp;&amp; document.documentElement.clientHeight) {
    clientHeight = (document.body.clientHeight &lt; document.documentElement.clientHeight) ? document.body.clientHeight : document.documentElement.clientHeight;
  } else {
    clientHeight = (document.body.clientHeight > document.documentElement.clientHeight) ? document.body.clientHeight : document.documentElement.clientHeight;
  }
  return clientHeight;
}

/**
 * 获取页面视口宽度
 * @returns {number} - 页面视口的宽度
 * 该函数会返回当前文档的页面视口宽度
 */
export function getPageViewWidth() {
  return (document.compatMode == "BackCompat" ? document.body : document.documentElement).clientWidth;
}

/**
 * 进入全屏模式
 * 该函数会将当前文档切换到全屏模式
 */
export function toFullScreen() {
  let element = document.body;
  if (element.requestFullscreen) {
    element.requestFullscreen();
  } else if (element.mozRequestFullScreen) {
    element.mozRequestFullScreen();
  } else if (element.msRequestFullscreen) {
    element.msRequestFullscreen();
  } else if (element.webkitRequestFullscreen) {
    element.webkitRequestFullScreen();
  }
}

/**
 * 退出全屏模式
 * 该函数会退出当前文档的全屏模式
 */
export function exitFullscreen() {
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.msExitFullscreen) {
    document.msExitFullscreen();
  } else if (document.mozCancelFullScreen) {
    document.mozCancelFullScreen();
  } else if (document.webkitExitFullscreen) {
    document.webkitExitFullscreen();
  }
}

/**
 * 处理滚动事件
 * @param {function} callback - 滚动事件的回调函数
 * 该函数会在页面滚动时触发回调函数，并传递滚动方向
 */
export function handleScrollHeader(callback) {
  let timer = 0;

  let beforeScrollTop = window.pageYOffset;
  callback = callback || function() {};
  window.addEventListener(
    'scroll',
    event => {
      clearTimeout(timer);
      timer = setTimeout(() => {
        let direction = 'up';
        const afterScrollTop = window.pageYOffset;
        const delta = afterScrollTop - beforeScrollTop;
        if (delta === 0) {
          return false;
        }
        direction = delta > 0 ? 'down' : 'up';
        callback(direction);
        beforeScrollTop = afterScrollTop;
      }, 50);
    },
    false
  );
}

/**
 * 新窗口下载文件
 * @param {string} url - 文件的下载链接
 * @param {string} name - 文件的名称
 * 该函数会在新窗口中下载指定的文件
 */
export function newWindowDownload(url, name) {
  const a = document.createElement('a');
  const isSupportDownload = 'download' in a;

  if (isSupportDownload) {
    a.href = url;
    if (name) {
      a.download = name;
    }
    a.style.display = 'none';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  } else {
    window.open(url);
  }
}

/**
 * 获取浏览器信息
 * @returns {Object} - 包含浏览器类型和版本的对象
 * 该函数会返回当前浏览器的类型和版本信息
 */
export function getExplorerInfo () {
  let t = navigator.userAgent.toLowerCase();
  return 0 &lt;= t.indexOf("msie") ? { //ie &lt; 11
    type: "IE",
    version: Number(t.match(/msie ([\d]+)/)[1])
  } : !!t.match(/trident\/.+?rv:(([\d.]+))/) ? { // ie 11
    type: "IE",
    version: 11
  } : 0 &lt;= t.indexOf("edge") ? {
    type: "Edge",
    version: Number(t.match(/edge\/([\d]+)/)[1])
  } : 0 &lt;= t.indexOf("firefox") ? {
    type: "Firefox",
    version: Number(t.match(/firefox\/([\d]+)/)[1])
  } : 0 &lt;= t.indexOf("chrome") ? {
    type: "Chrome",
    version: Number(t.match(/chrome\/([\d]+)/)[1])
  } : 0 &lt;= t.indexOf("opera") ? {
    type: "Opera",
    version: Number(t.match(/opera.([\d]+)/)[1])
  } : 0 &lt;= t.indexOf("Safari") ? {
    type: "Safari",
    version: Number(t.match(/version\/([\d]+)/)[1])
  } : {
    type: t,
    version: -1
  };
};
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="img/toast-ui.png" style="">
    <div class="footer-text">waker</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
